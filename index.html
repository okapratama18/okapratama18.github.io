<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Jam Digital Hologram</title>

<style>
:root{
  --blue:#00eaff;
  --glow:0 0 16px #00eaff,0 0 32px #0077ff;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Orbitron',sans-serif;
}

body{
  background:radial-gradient(circle,#001d2b,#000);
  color:var(--blue);
  width:100vw;
  height:100vh;
  overflow:hidden;
}

.container{
  display:grid;
  grid-template-columns:2.3fr 1fr;
  height:100%;
  padding:20px;
}

.left{
  display:flex;
  flex-direction:column;
  justify-content:center;
}

/* JAM DIPERBESAR */
.clock{
  font-size:6.2rem;
  letter-spacing:6px;
  text-shadow:var(--glow);
}

.date{
  font-size:1.3rem;
  margin-top:14px;
  opacity:.85;
}

.right{
  display:grid;
  grid-template-rows:repeat(6,1fr);
  gap:10px;
}

.panel{
  border:1px solid rgba(0,234,255,.4);
  border-radius:14px;
  padding:10px 12px;
  background:rgba(0,40,60,.25);
  box-shadow:var(--glow);
}

.label{
  font-size:.8rem;
  opacity:.75;
  animation:pulse 2.5s infinite;
}

.value{
  font-size:1.3rem;
  margin-top:4px;
  text-shadow:var(--glow);
}

canvas{
  width:100%;
  height:60px;
  margin-top:6px;
  filter:drop-shadow(0 0 6px #00eaff);
}

/* animasi hologram */
@keyframes pulse{
  0%{opacity:.6;text-shadow:0 0 4px #00eaff;}
  50%{opacity:1;text-shadow:0 0 14px #00eaff;}
  100%{opacity:.6;text-shadow:0 0 4px #00eaff;}
}

/* scan line */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.04),
    rgba(255,255,255,.04) 1px,
    transparent 2px,
    transparent 4px
  );
  pointer-events:none;
  animation:scan 6s linear infinite;
}

@keyframes scan{
  from{background-position-y:0;}
  to{background-position-y:100%;}
}
</style>
</head>

<body>
<div class="container">

  <!-- KIRI -->
  <div class="left">
    <div class="clock" id="clock">00:00:00</div>
    <div class="date" id="date">-</div>
  </div>

  <!-- KANAN -->
  <div class="right">

    <div class="panel">
      <div class="label">üå§ Cuaca</div>
      <div class="value" id="weather">Memuat...</div>
    </div>

    <div class="panel">
      <div class="label">üìç Lokasi GPS</div>
      <div class="value" id="gps">Menunggu...</div>
    </div>

    <div class="panel">
      <div class="label">ü´Å Oksigen (O‚ÇÇ)</div>
      <div class="value" id="oxygen">20.0%</div>
    </div>

    <div class="panel">
      <div class="label">‚õ∞ Ketinggian</div>
      <div class="value">800 mdpl</div>
    </div>

    <div class="panel">
      <div class="label">üå° Suhu</div>
      <div class="value" id="temp">--% | --¬∞C</div>
      <canvas id="tempChart" width="200" height="60"></canvas>
    </div>

  </div>
</div>

<script>
/* JAM & TANGGAL */
function updateTime(){
  const n=new Date();
  clock.textContent=n.toLocaleTimeString('id-ID');
  date.textContent=n.toLocaleDateString('id-ID',{
    weekday:'long',year:'numeric',month:'long',day:'numeric'
  });
}
setInterval(updateTime,1000); updateTime();

/* GPS + CUACA ASLI */
navigator.geolocation.getCurrentPosition(pos=>{
  const lat=pos.coords.latitude.toFixed(5);
  const lon=pos.coords.longitude.toFixed(5);
  gps.textContent=lat+', '+lon;

  fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
  .then(r=>r.json())
  .then(d=>{
    const t=d.current_weather.temperature;
    const code=d.current_weather.weathercode;
    const kondisi={
      0:'Cerah',1:'Cerah',2:'Berawan',3:'Mendung',
      45:'Kabut',48:'Kabut',
      51:'Gerimis',61:'Hujan',80:'Hujan Ringan'
    };
    weather.textContent=(kondisi[code]||'Cuaca')+' | '+t+'¬∞C';
    tempC=t;
  });
});

/* OKSIGEN */
let oxygen=20.0;
setInterval(()=>{
  oxygen+=(Math.random()-.5)*.3;
  oxygen=Math.min(21.1,Math.max(19,oxygen));
  oxygenEl.textContent=oxygen.toFixed(1)+'%';
},1200);

/* SUHU + GRAFIK */
const canvas=document.getElementById('tempChart');
const ctx=canvas.getContext('2d');
let tempPercent=65;
let tempC=32;
let history=Array(30).fill(tempC);

function drawChart(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.beginPath();
  ctx.strokeStyle='#00eaff';
  ctx.lineWidth=2;
  ctx.shadowColor='#00eaff';
  ctx.shadowBlur=10;
  history.forEach((v,i)=>{
    const x=i/(history.length-1)*canvas.width;
    const y=canvas.height-((v-20)/20)*canvas.height;
    i?ctx.lineTo(x,y):ctx.moveTo(x,y);
  });
  ctx.stroke();
}

setInterval(()=>{
  tempPercent+=(Math.random()-.5)*4;
  tempPercent=Math.min(85,Math.max(40,tempPercent));
  history.push(tempC); history.shift();
  temp.textContent=Math.round(tempPercent)+'% | '+tempC.toFixed(1)+'¬∞C';
  drawChart();
},1500);

/* WAKE LOCK */
let wakeLock=null;
async function lock(){
  try{wakeLock=await navigator.wakeLock.request('screen');}catch(e){}
}
document.addEventListener('visibilitychange',()=>{if(document.visibilityState==='visible')lock();});
lock();
</script>
</body>
</html>
